'use strict';(function(){function getTarget(elem,className){for(;!elem.classList.contains(className);)if(elem=elem.parentNode,'BODY'==elem.nodeName)return void(elem=null);return elem}function initCanvas(){setSize(),context.drawImage(imgElem,imgX,imgY,imgWidth,imgHeight),imgData=context.getImageData(imgX,imgY,imgWidth,imgHeight),particles=[];for(var y=0;y<imgData.height;y++)for(var x=0;x<imgData.width;x++)if(128<imgData.data[4*x+4*y*imgData.width+3]){var _particle={color:'rgb('+imgData.data[4*x+4*y*imgData.width]+', '+imgData.data[4*x+4*y*imgData.width+1]+', '+imgData.data[4*x+4*y*imgData.width+2]+')',x:x+imgX,y:y+imgY,originX:x+imgX,originY:y+imgY,velocity:.5*Math.random(),easeValue:3*Math.random(),radian:360*Math.random()*Math.PI/180};particles.push(_particle)}}function setSize(){canvas.width=innerWidth,canvas.height=innerHeight,maxScrollHeight=document.body.offsetHeight,769>innerWidth?(divValue=40,minParticleSize=innerWidth/30,imgWidth=innerWidth/1.4):(divValue=120,minParticleSize=innerWidth/50,imgWidth=innerWidth/2),imgHeight=imgWidth*imgElem.height/imgElem.width,imgX=innerWidth/2-imgWidth/2,imgY=.3*imgHeight,allElem.style.cssText='margin-top: '+(2*imgY+imgHeight)+'px; margin-bottom: '+imgHeight+'px'}function scrollHandler(){context.clearRect(0,0,canvas.width,canvas.height),particleSize=.025*pageYOffset,particleSize<minParticleSize&&(particleSize=minParticleSize);for(var i=0;i<particles.length;i++)0==i%divValue&&(particle=particles[i],particle.x=particle.originX+Math.cos(particle.radian)*pageYOffset*(pageYOffset/maxScrollHeight)*particle.easeValue,particle.y=particle.originY+Math.sin(particle.radian)*pageYOffset*(pageYOffset/maxScrollHeight)*particle.easeValue,context.fillStyle=particle.color,context.fillRect(particle.x,particle.y,particleSize,particleSize),50<pageYOffset&&context.strokeRect(particle.x,particle.y,particleSize,particleSize));10>pageYOffset&&(context.clearRect(0,0,canvas.width,canvas.height),context.drawImage(imgElem,imgX,imgY,imgWidth,imgHeight))}var canvas=document.querySelector('.canvas'),context=canvas.getContext('2d'),allElem=document.querySelector('.all'),imgElem=new Image,imgData=void 0,imgX=void 0,imgY=void 0,imgWidth=void 0,imgHeight=void 0,particles=[],particle=void 0,maxScrollHeight=void 0,minParticleSize=void 0;imgElem.src='/images/main-logo.png',imgElem.addEventListener('load',function(){allElem.classList.remove('before-start'),initCanvas()});var particleSize=void 0,divValue=100;addEventListener('resize',initCanvas),addEventListener('scroll',scrollHandler),allElem.addEventListener('click',function(e){var target=e.target,parentElem=void 0,viewDetail=getTarget(target,'view-detail');viewDetail&&(parentElem=viewDetail.parentNode.parentNode.parentNode,parentElem.classList.contains('session-active')?(parentElem.classList.remove('session-active'),viewDetail.innerHTML='\uC790\uC138\uD788 \uBCF4\uAE30',769>innerWidth&&scrollTo(0,parentElem.offsetTop+.2*innerHeight)):(parentElem.classList.add('session-active'),viewDetail.innerHTML='\uB2EB\uAE30'))})})();